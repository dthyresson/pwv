---
import { getCollection } from 'astro:content';
import TestimonialCard from './TestimonialCard.astro';

const testimonials = await getCollection('testimonials');
const sortedTestimonials = testimonials.sort((a, b) =>
  a.data.name.localeCompare(b.data.name)
);
---

<section id="testimonials" class="my-8">
  <h2 class="text-2xl lg:text-3xl font-bold my-4">What Founders Say About Us</h2>

  <div class="grid gap-8 md:grid-cols-2 lg:grid-cols-2 my-4">
    {
      sortedTestimonials.map((testimonial) => (
        <TestimonialCard
          name={testimonial.data.name}
          title={testimonial.data.title}
          company={testimonial.data.company}
          quote={testimonial.data.quote}
          url={testimonial.data.url}
        />
      ))
    }
  </div>
</section>
